<section class="sell-page" data-section-id="{{ section.id }}">

  <!-- Sell Hero with Background -->
  {%- assign hero_image = section.settings.background_image -%}
  <div class="sell-hero{% if hero_image %} sell-hero--has-bg{% endif %}">
    {%- if hero_image -%}
      <div class="sell-hero__bg">
        <img
          src="{{ hero_image | image_url: width: 1920 }}"
          alt="{{ section.settings.headline | default: 'Vende con nosotros' }}"
          loading="eager"
          class="sell-hero__bg-image"
        >
        <div class="sell-hero__overlay"></div>
      </div>
    {%- endif -%}
    <div class="container">
      <div class="sell-hero__content">
        <div class="sell-hero__tag collage-sticker collage-sticker--handwritten">
          {% render 'icon-sparkle' %}
          <span>Únete</span>
        </div>
        <h1 class="sell-hero__title">
          {{ section.settings.headline | default: 'Tu producto merece ser el regalo de alguien' }}
        </h1>
        <p class="sell-hero__subtitle">
          {{ section.settings.subtitle | default: 'Tú creas, nosotros vendemos. Sin costos fijos, sin estrés.' }}
        </p>
        <a href="#sell-form" class="btn btn--primary sell-hero__cta">
          Quiero vender en Gifting
          {% render 'icon-arrow-right' %}
        </a>
      </div>
    </div>
  </div>

  <!-- Benefits Section -->
  <div class="sell-benefits">
    <div class="container">
      <h2 class="sell-benefits__title">{{ section.settings.benefits_title | default: '¿Por qué vender en Gifting?' }}</h2>
      <div class="sell-benefits__grid">
        {%- assign benefit_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'benefit' -%}
            {%- assign benefit_index = benefit_index | plus: 1 -%}
            <div class="sell-benefit sell-benefit--{{ benefit_index }}" {{ block.shopify_attributes }}>
              <div class="sell-benefit__icon collage-sticker">
                {%- case block.settings.icon -%}
                  {%- when 'visibility' -%}
                    {% render 'icon-eye' %}
                  {%- when 'money' -%}
                    {% render 'icon-money' %}
                  {%- when 'logistics' -%}
                    {% render 'icon-truck' %}
                  {%- when 'community' -%}
                    {% render 'icon-users' %}
                  {%- when 'marketing' -%}
                    {% render 'icon-megaphone' %}
                  {%- else -%}
                    {% render 'icon-star' %}
                {%- endcase -%}
              </div>
              <h3 class="sell-benefit__title">{{ block.settings.title }}</h3>
              <p class="sell-benefit__description">{{ block.settings.description }}</p>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>

  <!-- Products Section -->
  <div class="sell-products">
    <div class="container">
      <h2 class="sell-products__title">{{ section.settings.products_title | default: '¿Qué productos buscamos?' }}</h2>
      <p class="sell-products__intro">{{ section.settings.products_intro | default: 'Productos con ese "algo" especial que hacen decir wow.' }}</p>

      <div class="sell-products__grid">
        {%- assign product_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'product_category' -%}
            {%- assign product_index = product_index | plus: 1 -%}
            <div class="sell-product-card sell-product-card--{{ product_index }}" {{ block.shopify_attributes }}>
              <span class="sell-product-card__icon collage-sticker collage-sticker--tiny">
                {%- case block.settings.icon -%}
                  {%- when 'sparkle' -%}
                    {% render 'icon-sparkle' %}
                  {%- when 'package' -%}
                    {% render 'icon-package' %}
                  {%- when 'bow' -%}
                    {% render 'icon-bow' %}
                  {%- when 'heart' -%}
                    {% render 'icon-heart' %}
                  {%- when 'palette' -%}
                    {% render 'icon-palette' %}
                  {%- when 'home' -%}
                    {% render 'icon-home' %}
                  {%- else -%}
                    {% render 'icon-gift' %}
                {%- endcase -%}
              </span>
              <span class="sell-product-card__name">{{ block.settings.category }}</span>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>

  <!-- Process Section -->
  <div class="sell-process">
    <div class="container">
      <h2 class="sell-process__title">{{ section.settings.process_title | default: '¿Cómo funciona?' }}</h2>
      <div class="sell-process__timeline">
        {%- assign step_count = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'step' -%}
            {%- assign step_count = step_count | plus: 1 -%}
          {%- endif -%}
        {%- endfor -%}
        {%- assign step_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'step' -%}
            {%- assign step_index = step_index | plus: 1 -%}
            <div class="sell-step" {{ block.shopify_attributes }}>
              <div class="sell-step__number collage-sticker collage-sticker--accent">{{ block.settings.number }}</div>
              <h3 class="sell-step__title">{{ block.settings.title }}</h3>
              <p class="sell-step__description">{{ block.settings.description }}</p>
              {%- if step_index < step_count -%}
                <div class="sell-step__connector" aria-hidden="true"></div>
              {%- endif -%}
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="sell-cta">
    <div class="container">
      <div class="sell-cta__content">
        <h2 class="sell-cta__title">{{ section.settings.cta_title | default: '¿Listo para vender?' }}</h2>
        <p class="sell-cta__text">{{ section.settings.cta_subtitle | default: 'Llena el formulario y empecemos.' }}</p>
        <a href="#sell-form" class="btn btn--primary sell-cta__btn">
          {{ section.settings.cta_text | default: 'Quiero vender en Gifting' }}
          {% render 'icon-arrow-right' %}
        </a>
      </div>
    </div>
  </div>

  <!-- Application Form -->
  <div class="sell-form-section" id="sell-form">
    <div class="container">
      <div class="sell-form-wrapper">
        <h2 class="sell-form__title">Formulario de Aplicación</h2>

        {% form 'contact', class: 'sell-form' %}
          <input type="hidden" name="contact[tags]" value="emprendedor">

          {%- if form.posted_successfully? -%}
            <div class="sell-form__success">
              <span class="sell-form__success-icon collage-sticker">
                {% render 'icon-check' %}
              </span>
              <p>¡Aplicación enviada! Te contactamos pronto.</p>
            </div>
          {%- endif -%}

          {%- if form.errors -%}
            <div class="sell-form__errors">
              {{ form.errors | default_errors }}
            </div>
          {%- endif -%}

          <div class="sell-form__row">
            <div class="sell-form__field">
              <label for="sell-name" class="sell-form__label">Tu nombre *</label>
              <input type="text" id="sell-name" name="contact[nombre]" required class="sell-form__input">
            </div>
            <div class="sell-form__field">
              <label for="sell-brand" class="sell-form__label">Nombre de tu marca *</label>
              <input type="text" id="sell-brand" name="contact[marca]" required class="sell-form__input">
            </div>
          </div>

          <div class="sell-form__row">
            <div class="sell-form__field">
              <label for="sell-email" class="sell-form__label">Email *</label>
              <input type="email" id="sell-email" name="contact[email]" required class="sell-form__input">
            </div>
            <div class="sell-form__field">
              <label for="sell-phone" class="sell-form__label">Teléfono / WhatsApp *</label>
              <input type="tel" id="sell-phone" name="contact[telefono]" required class="sell-form__input">
            </div>
          </div>

          <div class="sell-form__field">
            <label for="sell-instagram" class="sell-form__label">Instagram de tu marca</label>
            <input type="text" id="sell-instagram" name="contact[instagram]" placeholder="@tumarca" class="sell-form__input">
          </div>

          <div class="sell-form__field">
            <label for="sell-products" class="sell-form__label">¿Qué productos creas? *</label>
            <textarea id="sell-products" name="contact[productos]" rows="3" required class="sell-form__textarea" placeholder="Cuéntanos qué tipo de productos creas y qué los hace especiales"></textarea>
          </div>

          <div class="sell-form__field">
            <label for="sell-message" class="sell-form__label">¿Por qué quieres vender en Gifting?</label>
            <textarea id="sell-message" name="contact[mensaje]" rows="3" class="sell-form__textarea" placeholder="Cuéntanos un poco más sobre ti y tu marca"></textarea>
          </div>

          <button type="submit" class="sell-form__submit btn btn--primary">
            Enviar aplicación
            {% render 'icon-arrow-right' %}
          </button>
        {% endform %}
      </div>
    </div>
  </div>

</section>

{% schema %}
{
  "name": "Pagina Vende con Nosotros",
  "tag": "section",
  "class": "section-page-sell",
  "settings": [
    {
      "type": "header",
      "content": "Hero"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Imagen de fondo",
      "info": "Recomendado: 1920x600px"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Titular",
      "default": "Tu producto merece ser el regalo de alguien"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitulo",
      "default": "Tu creas, nosotros vendemos. Sin costos fijos, sin estres."
    },
    {
      "type": "header",
      "content": "Beneficios"
    },
    {
      "type": "text",
      "id": "benefits_title",
      "label": "Titulo de beneficios",
      "default": "¿Por qué vender en Gifting?"
    },
    {
      "type": "header",
      "content": "Productos"
    },
    {
      "type": "text",
      "id": "products_title",
      "label": "Titulo de productos",
      "default": "¿Qué productos buscamos?"
    },
    {
      "type": "textarea",
      "id": "products_intro",
      "label": "Intro de productos"
    },
    {
      "type": "header",
      "content": "Proceso"
    },
    {
      "type": "text",
      "id": "process_title",
      "label": "Titulo del proceso",
      "default": "¿Cómo funciona?"
    },
    {
      "type": "header",
      "content": "CTA"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "Titulo CTA",
      "default": "¿Listo para que tu producto llegue a más personas?"
    },
    {
      "type": "textarea",
      "id": "cta_subtitle",
      "label": "Subtitulo CTA",
      "default": "Llena el formulario y empecemos a trabajar juntos."
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Texto del boton",
      "default": "Quiero vender en Gifting"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Beneficio",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Titulo",
          "default": "Visibilidad real"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descripcion"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icono",
          "options": [
            { "value": "visibility", "label": "Visibilidad (ojo)" },
            { "value": "money", "label": "Dinero" },
            { "value": "logistics", "label": "Logistica (camion)" },
            { "value": "community", "label": "Comunidad (personas)" },
            { "value": "marketing", "label": "Marketing (megafono)" }
          ],
          "default": "visibility"
        }
      ]
    },
    {
      "type": "product_category",
      "name": "Categoria de producto",
      "settings": [
        {
          "type": "text",
          "id": "category",
          "label": "Categoria",
          "default": "Velas artesanales"
        },
        {
          "type": "select",
          "id": "icon",
          "label": "Icono",
          "options": [
            { "value": "sparkle", "label": "Estrella (velas, aroma)" },
            { "value": "package", "label": "Paquete (comida, snacks)" },
            { "value": "bow", "label": "Mono (joyeria, accesorios)" },
            { "value": "heart", "label": "Corazon (skincare, cuidado)" },
            { "value": "palette", "label": "Paleta (ropa, arte)" },
            { "value": "home", "label": "Casa (hogar, deco)" },
            { "value": "gift", "label": "Regalo (general)" }
          ],
          "default": "gift"
        }
      ]
    },
    {
      "type": "step",
      "name": "Paso del proceso",
      "settings": [
        {
          "type": "number",
          "id": "number",
          "label": "Numero",
          "default": 1
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titulo",
          "default": "Aplica"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descripcion",
          "default": "Llena el formulario con la info de tu marca y productos. No te preocupes, es rápido."
        }
      ]
    },
  ],
  "presets": [
    {
      "name": "Pagina Vende con Nosotros",
      "blocks": [
        { "type": "benefit", "settings": { "title": "Visibilidad real", "description": "Tu producto llega a miles de personas buscando regalos.", "icon": "visibility" } },
        { "type": "benefit", "settings": { "title": "Sin costos fijos", "description": "Solo ganas cuando vendes. Cero mensualidades.", "icon": "money" } },
        { "type": "benefit", "settings": { "title": "Logistica incluida", "description": "Nosotros armamos, empacamos y entregamos.", "icon": "logistics" } },
        { "type": "product_category", "settings": { "category": "Velas artesanales", "icon": "sparkle" } },
        { "type": "product_category", "settings": { "category": "Snacks gourmet", "icon": "package" } },
        { "type": "product_category", "settings": { "category": "Joyeria y accesorios", "icon": "bow" } },
        { "type": "product_category", "settings": { "category": "Skincare y cuidado", "icon": "heart" } },
        { "type": "product_category", "settings": { "category": "Decoracion hogar", "icon": "home" } },
        { "type": "product_category", "settings": { "category": "Y mucho mas...", "icon": "gift" } },
        { "type": "step", "settings": { "number": 1, "title": "Aplica", "description": "Llena el formulario" } },
        { "type": "step", "settings": { "number": 2, "title": "Platicamos", "description": "Te contactamos para conocerte" } },
        { "type": "step", "settings": { "number": 3, "title": "A vender", "description": "Tu producto sale al mundo" } }
      ]
    }
  ]
}
{% endschema %}
