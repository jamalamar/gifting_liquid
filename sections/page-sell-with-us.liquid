<section class="sell-page collage-section" data-section-id="{{ section.id }}" data-animate="stagger">

  <!-- Sell Hero with Background -->
  {%- assign hero_image = section.settings.background_image -%}
  <div class="sell-hero{% if hero_image %} sell-hero--has-bg{% endif %}">
    {%- if hero_image -%}
      <div class="sell-hero__bg">
        <img
          src="{{ hero_image | image_url: width: 1920 }}"
          alt="{{ section.settings.headline | default: 'Vende con nosotros' }}"
          loading="eager"
          class="sell-hero__bg-image"
        >
        <div class="sell-hero__overlay"></div>
      </div>
    {%- endif -%}
    <div class="container">
      <div class="sell-hero__content">
        <div class="sell-hero__tag sticker-badge animate-item" style="--i:0">
          {% render 'icon-sparkle' %}
          <span>Únete</span>
        </div>
        <h1 class="sell-hero__title animate-item" style="--i:1">
          {{ section.settings.headline | default: 'Tu producto merece ser el regalo de alguien' }}
        </h1>
        <p class="sell-hero__subtitle animate-item" style="--i:2">
          {{ section.settings.subtitle | default: 'Tú creas, nosotros vendemos. Sin costos fijos, sin estrés.' }}
        </p>
        <a href="#sell-form" class="btn btn--primary sell-hero__cta animate-item" style="--i:3">
          Quiero vender en Gifting
          {% render 'icon-arrow-right' %}
        </a>
        {%- if section.settings.sticker_1 != blank -%}
          <div class="sell-hero__deco sell-sticker">
            <img src="{{ section.settings.sticker_1 | image_url: width: 150 }}" alt="Decoration" loading="lazy">
          </div>
        {%- endif -%}
      </div>
    </div>
  </div>

  <!-- Benefits Section -->
  <div class="sell-benefits animate-item" style="--i:4">
    {%- if section.settings.sticker_2 != blank -%}
      <div class="sell-benefits__deco sell-sticker">
        <img src="{{ section.settings.sticker_2 | image_url: width: 150 }}" alt="Decoration" loading="lazy">
      </div>
    {%- endif -%}
    <div class="container">
      <h2 class="sell-benefits__title">{{ section.settings.benefits_title | default: '¿Por qué vender en Gifting?' }}</h2>
      <div class="sell-benefits__grid">
        {%- assign benefit_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'benefit' -%}
            {%- assign benefit_index = benefit_index | plus: 1 -%}
            <div class="sell-benefit sell-benefit--{{ benefit_index }} animate-item" style="--i:{{ benefit_index }}" {{ block.shopify_attributes }}>
              <div class="sell-benefit__icon">
                {%- if block.settings.icon_image != blank -%}
                  <img src="{{ block.settings.icon_image | image_url: width: 120 }}" alt="{{ block.settings.title }}" loading="lazy">
                {%- else -%}
                  {% render 'icon-star' %}
                {%- endif -%}
              </div>
              <h3 class="sell-benefit__title">{{ block.settings.title }}</h3>
              <p class="sell-benefit__description">{{ block.settings.description }}</p>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>

  <!-- Products Section -->
  <div class="sell-products animate-item" style="--i:5">
    {%- if section.settings.sticker_3 != blank -%}
      <div class="sell-products__deco sell-sticker">
        <img src="{{ section.settings.sticker_3 | image_url: width: 150 }}" alt="Decoration" loading="lazy">
      </div>
    {%- endif -%}
    <div class="container">
      <h2 class="sell-products__title">{{ section.settings.products_title | default: '¿Qué productos buscamos?' }}</h2>
      <p class="sell-products__intro">{{ section.settings.products_intro | default: 'Productos con ese "algo" especial que hacen decir wow.' }}</p>

      <div class="sell-products__grid">
        {%- assign product_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'product_category' -%}
            {%- assign product_index = product_index | plus: 1 -%}
            <div class="sell-product-card sell-product-card--{{ product_index }} animate-item" style="--i:{{ product_index }}" {{ block.shopify_attributes }}>
              <span class="sell-product-card__icon">
                {%- if block.settings.icon_image != blank -%}
                  <img src="{{ block.settings.icon_image | image_url: width: 80 }}" alt="{{ block.settings.category }}" loading="lazy">
                {%- else -%}
                  {% render 'icon-gift' %}
                {%- endif -%}
              </span>
              <span class="sell-product-card__name">{{ block.settings.category }}</span>
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>

  <!-- Process Section -->
  <div class="sell-process animate-item" style="--i:6">
    {%- if section.settings.sticker_4 != blank -%}
      <div class="sell-process__deco sell-sticker">
        <img src="{{ section.settings.sticker_4 | image_url: width: 150 }}" alt="Decoration" loading="lazy">
      </div>
    {%- endif -%}
    <div class="container">
      <h2 class="sell-process__title">{{ section.settings.process_title | default: '¿Cómo funciona?' }}</h2>
      <div class="sell-process__timeline">
        {%- assign step_count = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'step' -%}
            {%- assign step_count = step_count | plus: 1 -%}
          {%- endif -%}
        {%- endfor -%}
        {%- assign step_index = 0 -%}
        {%- for block in section.blocks -%}
          {%- if block.type == 'step' -%}
            {%- assign step_index = step_index | plus: 1 -%}
            <div class="sell-step animate-item" style="--i:{{ step_index }}" {{ block.shopify_attributes }}>
              <div class="sell-step__number collage-sticker collage-sticker--accent">{{ block.settings.number }}</div>
              <h3 class="sell-step__title">{{ block.settings.title }}</h3>
              <p class="sell-step__description">{{ block.settings.description }}</p>
              {%- if step_index < step_count -%}
                <div class="sell-step__connector" aria-hidden="true"></div>
              {%- endif -%}
            </div>
          {%- endif -%}
        {%- endfor -%}
      </div>
    </div>
  </div>

  <!-- CTA Section -->
  <div class="sell-cta animate-item" style="--i:7">
    {%- if section.settings.sticker_5 != blank -%}
      <div class="sell-cta__deco sell-sticker">
        <img src="{{ section.settings.sticker_5 | image_url: width: 150 }}" alt="Decoration" loading="lazy">
      </div>
    {%- endif -%}
    <div class="container">
      <div class="sell-cta__content">
        <h2 class="sell-cta__title">{{ section.settings.cta_title | default: '¿Listo para vender?' }}</h2>
        <p class="sell-cta__text">{{ section.settings.cta_subtitle | default: 'Llena el formulario y empecemos.' }}</p>
        <a href="#sell-form" class="btn btn--primary sell-cta__btn">
          {{ section.settings.cta_text | default: 'Quiero vender en Gifting' }}
          {% render 'icon-arrow-right' %}
        </a>
      </div>
    </div>
  </div>

  <!-- Application Form -->
  <div class="sell-form-section animate-item" style="--i:8" id="sell-form">
    {%- if section.settings.sticker_6 != blank -%}
      <div class="sell-form__deco sell-sticker">
        <img src="{{ section.settings.sticker_6 | image_url: width: 150 }}" alt="Decoration" loading="lazy">
      </div>
    {%- endif -%}
    <div class="container">
      <div class="sell-form-wrapper">
        <h2 class="sell-form__title">Formulario de Aplicación</h2>

        {% form 'contact', class: 'sell-form' %}
          <input type="hidden" name="contact[tags]" value="emprendedor">

          {%- if form.posted_successfully? -%}
            <div class="sell-form__success">
              <span class="sell-form__success-icon collage-sticker">
                {% render 'icon-check' %}
              </span>
              <p>¡Aplicación enviada! Te contactamos pronto.</p>
            </div>
          {%- endif -%}

          {%- if form.errors -%}
            <div class="sell-form__errors">
              {{ form.errors | default_errors }}
            </div>
          {%- endif -%}

          <div class="sell-form__row">
            <div class="sell-form__field">
              <label for="sell-name" class="sell-form__label">Tu nombre *</label>
              <input type="text" id="sell-name" name="contact[nombre]" required class="sell-form__input">
            </div>
            <div class="sell-form__field">
              <label for="sell-brand" class="sell-form__label">Nombre de tu marca *</label>
              <input type="text" id="sell-brand" name="contact[marca]" required class="sell-form__input">
            </div>
          </div>

          <div class="sell-form__row">
            <div class="sell-form__field">
              <label for="sell-email" class="sell-form__label">Email *</label>
              <input type="email" id="sell-email" name="contact[email]" required class="sell-form__input">
            </div>
            <div class="sell-form__field">
              <label for="sell-phone" class="sell-form__label">Teléfono / WhatsApp *</label>
              <input type="tel" id="sell-phone" name="contact[telefono]" required class="sell-form__input">
            </div>
          </div>

          <div class="sell-form__field">
            <label for="sell-instagram" class="sell-form__label">Instagram de tu marca</label>
            <input type="text" id="sell-instagram" name="contact[instagram]" placeholder="@tumarca" class="sell-form__input">
          </div>

          <div class="sell-form__field">
            <label for="sell-products" class="sell-form__label">¿Qué productos creas? *</label>
            <textarea id="sell-products" name="contact[productos]" rows="3" required class="sell-form__textarea" placeholder="Cuéntanos qué tipo de productos creas y qué los hace especiales"></textarea>
          </div>

          <div class="sell-form__field">
            <label for="sell-message" class="sell-form__label">¿Por qué quieres vender en Gifting?</label>
            <textarea id="sell-message" name="contact[mensaje]" rows="3" class="sell-form__textarea" placeholder="Cuéntanos un poco más sobre ti y tu marca"></textarea>
          </div>

          <button type="submit" class="sell-form__submit btn btn--primary">
            Enviar aplicación
            {% render 'icon-arrow-right' %}
          </button>
        {% endform %}
      </div>
    </div>
  </div>

</section>

{% schema %}
{
  "name": "Pagina Vende con Nosotros",
  "tag": "section",
  "class": "section-page-sell",
  "settings": [
    {
      "type": "header",
      "content": "Hero"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Imagen de fondo",
      "info": "Recomendado: 1920x600px"
    },
    {
      "type": "text",
      "id": "headline",
      "label": "Titular",
      "default": "Tu producto merece ser el regalo de alguien"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitulo",
      "default": "Tu creas, nosotros vendemos. Sin costos fijos, sin estres."
    },
    {
      "type": "header",
      "content": "Beneficios"
    },
    {
      "type": "text",
      "id": "benefits_title",
      "label": "Titulo de beneficios",
      "default": "¿Por qué vender en Gifting?"
    },
    {
      "type": "header",
      "content": "Productos"
    },
    {
      "type": "text",
      "id": "products_title",
      "label": "Titulo de productos",
      "default": "¿Qué productos buscamos?"
    },
    {
      "type": "textarea",
      "id": "products_intro",
      "label": "Intro de productos"
    },
    {
      "type": "header",
      "content": "Proceso"
    },
    {
      "type": "text",
      "id": "process_title",
      "label": "Titulo del proceso",
      "default": "¿Cómo funciona?"
    },
    {
      "type": "header",
      "content": "CTA"
    },
    {
      "type": "text",
      "id": "cta_title",
      "label": "Titulo CTA",
      "default": "¿Listo para que tu producto llegue a más personas?"
    },
    {
      "type": "textarea",
      "id": "cta_subtitle",
      "label": "Subtitulo CTA",
      "default": "Llena el formulario y empecemos a trabajar juntos."
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Texto del boton",
      "default": "Quiero vender en Gifting"
    },
    {
      "type": "header",
      "content": "Stickers decorativos"
    },
    {
      "type": "image_picker",
      "id": "sticker_1",
      "label": "Sticker 1 (Hero)"
    },
    {
      "type": "image_picker",
      "id": "sticker_2",
      "label": "Sticker 2 (Beneficios)"
    },
    {
      "type": "image_picker",
      "id": "sticker_3",
      "label": "Sticker 3 (Productos)"
    },
    {
      "type": "image_picker",
      "id": "sticker_4",
      "label": "Sticker 4 (Proceso)"
    },
    {
      "type": "image_picker",
      "id": "sticker_5",
      "label": "Sticker 5 (CTA)"
    },
    {
      "type": "image_picker",
      "id": "sticker_6",
      "label": "Sticker 6 (Formulario)"
    }
  ],
  "blocks": [
    {
      "type": "benefit",
      "name": "Beneficio",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Titulo",
          "default": "Visibilidad real"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descripcion"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Icono (imagen)"
        }
      ]
    },
    {
      "type": "product_category",
      "name": "Categoria de producto",
      "settings": [
        {
          "type": "text",
          "id": "category",
          "label": "Categoria",
          "default": "Velas artesanales"
        },
        {
          "type": "image_picker",
          "id": "icon_image",
          "label": "Icono (imagen)"
        }
      ]
    },
    {
      "type": "step",
      "name": "Paso del proceso",
      "settings": [
        {
          "type": "number",
          "id": "number",
          "label": "Numero",
          "default": 1
        },
        {
          "type": "text",
          "id": "title",
          "label": "Titulo",
          "default": "Aplica"
        },
        {
          "type": "textarea",
          "id": "description",
          "label": "Descripcion",
          "default": "Llena el formulario con la info de tu marca y productos. No te preocupes, es rápido."
        }
      ]
    },
  ],
  "presets": [
    {
      "name": "Pagina Vende con Nosotros",
      "blocks": [
        { "type": "benefit", "settings": { "title": "Visibilidad real", "description": "Tu producto llega a miles de personas buscando regalos." } },
        { "type": "benefit", "settings": { "title": "Sin costos fijos", "description": "Solo ganas cuando vendes. Cero mensualidades." } },
        { "type": "benefit", "settings": { "title": "Logistica incluida", "description": "Nosotros armamos, empacamos y entregamos." } },
        { "type": "product_category", "settings": { "category": "Velas artesanales" } },
        { "type": "product_category", "settings": { "category": "Snacks gourmet" } },
        { "type": "product_category", "settings": { "category": "Joyeria y accesorios" } },
        { "type": "product_category", "settings": { "category": "Skincare y cuidado" } },
        { "type": "product_category", "settings": { "category": "Decoracion hogar" } },
        { "type": "product_category", "settings": { "category": "Y mucho mas..." } },
        { "type": "step", "settings": { "number": 1, "title": "Aplica", "description": "Llena el formulario" } },
        { "type": "step", "settings": { "number": 2, "title": "Platicamos", "description": "Te contactamos para conocerte" } },
        { "type": "step", "settings": { "number": 3, "title": "A vender", "description": "Tu producto sale al mundo" } }
      ]
    }
  ]
}
{% endschema %}
