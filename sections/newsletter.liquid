<section class="newsletter collage-section collage-section--accent" data-section-id="{{ section.id }}" data-animate="newsletter">
  <div class="container">
    <div class="newsletter__wrapper animate-item" style="--i:0">
      <div class="newsletter__content">
        <div class="newsletter__icon collage-sticker collage-sticker--large animate-icon">
          {% render 'icon-email' %}
        </div>
        <h2 class="newsletter__title animate-item" style="--i:1">
          {{ section.settings.title | default: 'No te pierdas el chisme bueno' }}
        </h2>
        <p class="newsletter__subtitle animate-item" style="--i:2">
          {{ section.settings.subtitle | default: 'Suscribete y te avisamos de nuevos productos, promos exclusivas y las fechas que no puedes olvidar (como el cumple de tu suegra).' }}
        </p>

        <form class="newsletter__form animate-item" style="--i:3" action="{{ routes.root_url }}" method="post" data-newsletter-form>
          <input type="hidden" name="form_type" value="customer">
          <input type="hidden" name="utf8" value="âœ“">
          <input type="hidden" name="contact[tags]" value="newsletter">

          <div class="newsletter__input-group">
            <input
              type="email"
              name="contact[email]"
              placeholder="{{ section.settings.placeholder | default: 'Tu email aqui' }}"
              required
              class="newsletter__input collage-input"
              aria-label="Email"
            >
            <button type="submit" class="newsletter__submit btn btn--primary collage-button newsletter__submit--pulse">
              {{ section.settings.cta_text | default: 'Quiero enterarme' }}
              {% render 'icon-arrow-right' %}
            </button>
          </div>

          <div class="newsletter__message" data-newsletter-message></div>
        </form>

        <p class="newsletter__disclaimer animate-item" style="--i:4">
          {{ section.settings.disclaimer | default: 'Prometemos no llenarte de spam. Solo cosas buenas.' }}
        </p>
      </div>

      <div class="newsletter__decorations">
        <div class="collage-element collage-element--stamp newsletter-stamp"></div>
        <div class="collage-element collage-element--doodle newsletter-doodle">
          <svg viewBox="0 0 100 50">
            <path d="M10 40 Q 30 10, 50 25 T 90 15" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="5,3"/>
          </svg>
        </div>
        <div class="collage-element collage-element--heart newsletter-heart">
          {% render 'icon-heart' %}
        </div>
      </div>
    </div>
  </div>
</section>

{% schema %}
{
  "name": "Newsletter",
  "tag": "section",
  "class": "section-newsletter",
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "Titulo",
      "default": "No te pierdas el chisme bueno"
    },
    {
      "type": "textarea",
      "id": "subtitle",
      "label": "Subtitulo",
      "default": "Suscribete y te avisamos de nuevos productos, promos exclusivas y las fechas que no puedes olvidar (como el cumple de tu suegra)."
    },
    {
      "type": "text",
      "id": "placeholder",
      "label": "Placeholder del input",
      "default": "Tu email aqui"
    },
    {
      "type": "text",
      "id": "cta_text",
      "label": "Texto del boton",
      "default": "Quiero enterarme"
    },
    {
      "type": "text",
      "id": "disclaimer",
      "label": "Texto de disclaimer",
      "default": "Prometemos no llenarte de spam. Solo cosas buenas."
    }
  ],
  "presets": [
    {
      "name": "Newsletter"
    }
  ]
}
{% endschema %}
